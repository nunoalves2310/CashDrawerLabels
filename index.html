<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Barcode Label Printer (1 per page)</title>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    #controls { margin-bottom: 20px; }
    .label {
      text-align: center;
      page-break-after: always; /* force each label on a new page */
    }
    svg { width: 100%; height: 100px; }

    /* Print styles */
    @media print {
      #controls { display: none; }
      body { margin: 0; }
      .label { border: none; padding: 0; }
    }
  </style>
</head>
<body>
  <div id="controls">
    <h2>Print cash drawer ID labels</h2>
    <p id="lastNumberDisplay"></p>
    <label for="count">Number of labels:</label>
    <input type="number" id="count" min="1" value="1"><br>
    <button onclick="printLabels()">Generate & Print</button>
  </div>

  <div id="labels"></div>

  <script>
  // Start the sequence at any number you want
  let lastNumber = 72961;

  document.getElementById("lastNumberDisplay").textContent =
    "Last number used: " + lastNumber;

  function printLabels() {
    const count = parseInt(document.getElementById("count").value, 10);
    const container = document.getElementById("labels");
    container.innerHTML = ""; // clear previous labels

    for (let i = 1; i <= count; i++) {
      const number = lastNumber + i;

      const div = document.createElement("div");
      div.className = "label";

      div.appendChild(document.createTextNode("T J MORRIS LIMITED"));

      const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      JsBarcode(svg, "CD" + number.toString(), {
        format: "CODE128",
        displayValue: false
      });

      div.appendChild(svg);
      div.appendChild(document.createElement("br"));
      div.appendChild(
        document.createTextNode("Cash Drawer Number: " + number)
      );

      container.appendChild(div);
    }

    // Update the inâ€‘memory variable only
    lastNumber += count;

    // Update the display
    document.getElementById("lastNumberDisplay").textContent =
      "Last number used: " + lastNumber;

    window.print();
  }
</script>
</body>
</html>


